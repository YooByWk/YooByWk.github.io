# Solidity

`Solidity`는 이더리움 블록체인의 EVM 에서 실행되는 스마트 컨트랙트를 작성하기 위한 정적 타입 프로그래밍 언어.

`Solidity`는 안정성, Gas 효율성, 보안성을 최우선으로 설계됐다.

## 특징

### 정적 타입 시스템

- 정적 타입 : 모든 변수의 타입이 컴파일 시점에 정의되어 런타임 오류의 가능성이 낮다. 따라서 스마트 컨트랙트의 안정성을 높인다 (`uint256`, `address`, `bytes32` 外)
- Gas 비용 고려 : 기본 정수 타입(`uint`, `int`)은 비트 수를 명시할 수 있다. 작은 타입을 사용해 Gas비용을 절약할 수 있다.

### 객체 지향 요소

완벽한 OOP 언어는 아니더라도, 모듈화와 재사용성을 위해 다음과 같은 개념이 존재한다.

- 컨트랙트(Contract) : OOP의 클래스와 유사하다. 상태변수 + 함수를 포함
- 상속 : `is` 키워드를 통해 다른 컨트랙트의 함수와 상태 변수를 상속받는다 (다중 상속 또한 지원한다.)
- 라이브러리 : `delegatecall` 을통해 실행. 재사용 가능한 코드를 담는 컨트랙트.

## 메모리 관리

### 저장소 관리

데이터 저장 위치에 따라 `Gas`의 비용이 달라진다.

1. `storage` : 블록체인에 영구적으로 저장될 상태. 가장 비싼 Gas 비용
2. `memory` : 함수 호출 동안 사용되는 변수. 복잡한 배열/구조체 로직에 주로 사용되며, 함수 종료시 소멸됨
3. `calldata` : 외부 함수 호출의 Arguments를 저장하는 읽기 전용 영역. 가장 효율이 좋다.

### Gas?

Gas는 EVM에서 연산을 실행하는 비용. 자원 낭비를 방지하기 위함.

~~처리비용 : 돈~~

가스를 절약하기 위해서는 루프 최소화와, 짧은 정수 타입(가능한 범위 내)를 사용하는 것이 좋다.

특히 `storage`의 값을 자주 업데이트 (엄밀히 말하면 쓰는 행동) 하지 않는게 좋음.

## 보안

스마트 컨트랙트의 특성 (불변성)으로 인해 보안 취약점 발견 시 **매우 치명적**

따라서 접근 제어, `SafeMath` (오버플로우/언더플로우 방지), 재진입 공격 방지에 대해 대책을 잘 세워야 함.

# 여담

C + JavaScript 비슷한 맛.

Rust랑도 비슷한 맛.

RemixIDE에서 웹 상으로 가상 배포 및 간단한 컨트랙트를 작성, 실행해볼수도 있다..
